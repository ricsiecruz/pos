import './polyfills.server.mjs';
import{$ as Fe,A as y,Aa as j,B as Z,C as se,Ca as on,D as I,Da as sn,E as T,F as Ce,G as S,H as q,Ha as Je,I as H,J as Mt,Ja as Et,K as Ze,Ka as Ye,L as p,La as Tt,M as f,Ma as Ke,N as E,O as A,Oa as rn,P as Se,Pa as Y,Q as Ne,Qa as pe,R as we,Ra as Xe,S as ce,Sa as an,T as Xt,Ta as K,U as d,Ua as ln,V as m,Va as cn,W as en,Wa as dn,X as Dt,Xa as un,Y as qe,Z as Q,_ as C,_a as hn,a as Lt,aa as w,b as $t,ba as de,c as Ie,ca as Qe,cb as et,d as G,da as r,e as zt,ea as a,f as ne,fa as _,fb as pn,g as Le,ga as D,gb as fn,h as Wt,ha as g,hb as _n,i as Zt,ia as h,ib as Pt,j as St,ja as tn,k as B,ka as nn,l as qt,la as $,m as ie,ma as z,n as Qt,na as W,o as oe,oa as ue,p as ke,pa as l,q as Jt,qa as k,r as $e,ra as b,s as Re,sa as R,t as Yt,ta as N,u as Kt,ua as F,v as U,va as he,w as ze,wa as xt,x as wt,xa as Ot,y as We,ya as Me,z as le,za as Ae}from"./chunk-NGMPCEP2.mjs";import{a as P,b as J}from"./chunk-VVCT4QZE.mjs";var Mn=(()=>{let e=class e{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(i){return new(i||e)(m(Dt),m(we))},e.\u0275dir=H({type:e});let n=e;return n})(),Dn=(()=>{let e=class e extends Mn{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Se(e)))(o||e)}})(),e.\u0275dir=H({type:e,features:[Q]});let n=e;return n})(),Rt=new se("");var di={provide:Rt,useExisting:le(()=>X),multi:!0};function ui(){let n=Tt()?Tt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var hi=new se(""),X=(()=>{let e=class e extends Mn{constructor(t,i,o){super(t,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ui())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(i){return new(i||e)(m(Dt),m(we),m(hi,8))},e.\u0275dir=H({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&g("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[he([di]),Q]});let n=e;return n})();function It(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var at=new se(""),xn=new se("");function pi(n){return e=>{if(It(e.value)||It(n))return null;let s=parseFloat(e.value);return!isNaN(s)&&s<n?{min:{min:n,actual:e.value}}:null}}function fi(n){return It(n.value)?{required:!0}:null}function mn(n){return null}function On(n){return n!=null}function En(n){return on(n)?Zt(n):n}function Tn(n){let e={};return n.forEach(s=>{e=s!=null?P(P({},e),s):e}),Object.keys(e).length===0?null:e}function Pn(n,e){return e.map(s=>s(n))}function _i(n){return!n.validate}function In(n){return n.map(e=>_i(e)?e:s=>e.validate(s))}function mi(n){if(!n)return null;let e=n.filter(On);return e.length==0?null:function(s){return Tn(Pn(s,e))}}function Nt(n){return n!=null?mi(In(n)):null}function gi(n){if(!n)return null;let e=n.filter(On);return e.length==0?null:function(s){let t=Pn(s,e).map(En);return qt(t).pipe(B(Tn))}}function Ft(n){return n!=null?gi(In(n)):null}function gn(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vi(n){return n._rawValidators}function bi(n){return n._rawAsyncValidators}function kt(n){return n?Array.isArray(n)?n:[n]:[]}function nt(n,e){return Array.isArray(n)?n.includes(e):n===e}function vn(n,e){let s=kt(e);return kt(n).forEach(i=>{nt(s,i)||s.push(i)}),s}function bn(n,e){return kt(e).filter(s=>!nt(n,s))}var it=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Nt(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ft(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,s){return this.control?this.control.hasError(e,s):!1}getError(e,s){return this.control?this.control.getError(e,s):null}},xe=class extends it{get formDirective(){return null}get path(){return null}},Ge=class extends it{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ot=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},yi={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ds=J(P({},yi),{"[class.ng-submitted]":"isSubmitted"}),fe=(()=>{let e=class e extends ot{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(m(Ge,2))},e.\u0275dir=H({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&de("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Q]});let n=e;return n})(),Oe=(()=>{let e=class e extends ot{constructor(t){super(t)}};e.\u0275fac=function(i){return new(i||e)(m(xe,10))},e.\u0275dir=H({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&de("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Q]});let n=e;return n})();var Ve="VALID",tt="INVALID",De="PENDING",Be="DISABLED";function kn(n){return(lt(n)?n.validators:n)||null}function Ci(n){return Array.isArray(n)?Nt(n):n||null}function Rn(n,e){return(lt(e)?e.asyncValidators:n)||null}function Si(n){return Array.isArray(n)?Ft(n):n||null}function lt(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function wi(n,e,s){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new We(1e3,"");if(!t[s])throw new We(1001,"")}function Mi(n,e,s){n._forEachChild((t,i)=>{if(s[i]===void 0)throw new We(1002,"")})}var st=class{constructor(e,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ve}get invalid(){return this.status===tt}get pending(){return this.status==De}get disabled(){return this.status===Be}get enabled(){return this.status!==Be}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(vn(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(vn(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bn(e,this._rawAsyncValidators))}hasValidator(e){return nt(this._rawValidators,e)}hasAsyncValidator(e){return nt(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=De,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=Be,this.errors=null,this._forEachChild(t=>{t.disable(J(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(P({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!0))}enable(e={}){let s=this._parentMarkedDirty(e.onlySelf);this.status=Ve,this._forEachChild(t=>{t.enable(J(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(P({},e),{skipPristineCheck:s})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ve||this.status===De)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Be:Ve}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;let s=En(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,s={}){this.errors=e,this._updateControlsErrors(s.emitEvent!==!1)}get(e){let s=e;return s==null||(Array.isArray(s)||(s=s.split(".")),s.length===0)?null:s.reduce((t,i)=>t&&t._find(i),this)}getError(e,s){let t=s?this.get(s):this;return t&&t.errors?t.errors[e]:null}hasError(e,s){return!!this.getError(e,s)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ce,this.statusChanges=new ce}_calculateStatus(){return this._allControlsDisabled()?Be:this.errors?tt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(tt)?tt:Ve}_anyControlsHaveStatus(e){return this._anyControls(s=>s.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lt(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let s=this._parent&&this._parent.dirty;return!e&&!!s&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ci(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Si(this._rawAsyncValidators)}},rt=class extends st{constructor(e,s,t){super(kn(s),Rn(t,s)),this.controls=e,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,s){return this.controls[e]?this.controls[e]:(this.controls[e]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(e,s,t={}){this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,s={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(e,s,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],s&&this.registerControl(e,s),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,s={}){Mi(this,!0,e),Object.keys(e).forEach(t=>{wi(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(e,s={}){e!=null&&(Object.keys(e).forEach(t=>{let i=this.controls[t];i&&i.patchValue(e[t],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(e={},s={}){this._forEachChild((t,i)=>{t.reset(e?e[i]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(e,s,t)=>(e[t]=s.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(s,t)=>t._syncPendingControls()?!0:s);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(s=>{let t=this.controls[s];t&&e(t,s)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[s,t]of Object.entries(this.controls))if(this.contains(s)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(s,t,i)=>((t.enabled||this.disabled)&&(s[i]=t.value),s))}_reduceChildren(e,s){let t=e;return this._forEachChild((i,o)=>{t=s(t,i,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ct=new se("CallSetDisabledState",{providedIn:"root",factory:()=>dt}),dt="always";function Di(n,e){return[...e.path,n]}function Nn(n,e,s=dt){Fn(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||s==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Oi(n,e),Ti(n,e),Ei(n,e),xi(n,e)}function yn(n,e){n.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(e)})}function xi(n,e){if(e.valueAccessor.setDisabledState){let s=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(s),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(s)})}}function Fn(n,e){let s=vi(n);e.validator!==null?n.setValidators(gn(s,e.validator)):typeof s=="function"&&n.setValidators([s]);let t=bi(n);e.asyncValidator!==null?n.setAsyncValidators(gn(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let i=()=>n.updateValueAndValidity();yn(e._rawValidators,i),yn(e._rawAsyncValidators,i)}function Oi(n,e){e.valueAccessor.registerOnChange(s=>{n._pendingValue=s,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&An(n,e)})}function Ei(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&An(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function An(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ti(n,e){let s=(t,i)=>{e.valueAccessor.writeValue(t),i&&e.viewToModelUpdate(t)};n.registerOnChange(s),e._registerOnDestroy(()=>{n._unregisterOnChange(s)})}function Pi(n,e){n==null,Fn(n,e)}function Ii(n,e){if(!n.hasOwnProperty("model"))return!1;let s=n.model;return s.isFirstChange()?!0:!Object.is(e,s.currentValue)}function ki(n){return Object.getPrototypeOf(n.constructor)===Dn}function Ri(n,e){n._syncPendingControls(),e.forEach(s=>{let t=s.control;t.updateOn==="submit"&&t._pendingChange&&(s.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function Ni(n,e){if(!e)return null;Array.isArray(e);let s,t,i;return e.forEach(o=>{o.constructor===X?s=o:ki(o)?t=o:i=o}),i||t||s||null}var Fi={provide:xe,useExisting:le(()=>ge)},He=Promise.resolve(),ge=(()=>{let e=class e extends xe{constructor(t,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ce,this.form=new rt({},Nt(t),Ft(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){He.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Nn(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){He.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){He.then(()=>{let i=this._findContainer(t.path),o=new rt({});Pi(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){He.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){He.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Ri(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(i){return new(i||e)(m(at,10),m(xn,10),m(ct,8))},e.\u0275dir=H({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&g("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:[Ce.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[he([Fi]),Q]});let n=e;return n})();function Cn(n,e){let s=n.indexOf(e);s>-1&&n.splice(s,1)}function Sn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ai=class extends st{constructor(e=null,s,t){super(kn(s),Rn(t,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lt(s)&&(s.nonNullable||s.initialValueIsDefault)&&(Sn(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,s={}){this.value=this._pendingValue=e,this._onChange.length&&s.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,s.emitViewToModelChange!==!1)),this.updateValueAndValidity(s)}patchValue(e,s={}){this.setValue(e,s)}reset(e=this.defaultValue,s={}){this._applyFormState(e),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Cn(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Cn(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Sn(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Vi={provide:Ge,useExisting:le(()=>re)},wn=Promise.resolve(),re=(()=>{let e=class e extends Ge{constructor(t,i,o,c,u,v){super(),this._changeDetectorRef=u,this.callSetDisabledState=v,this.control=new Ai,this._registered=!1,this.name="",this.update=new ce,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=Ni(this,c)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Ii(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Nn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){wn.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&Et(i);wn.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Di(t,this._parent):[t]}};e.\u0275fac=function(i){return new(i||e)(m(xe,9),m(at,10),m(xn,10),m(Rt,10),m(Je,8),m(ct,8))},e.\u0275dir=H({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[Ce.None,"disabled","isDisabled"],model:[Ce.None,"ngModel","model"],options:[Ce.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[he([Vi]),Q,Ze]});let n=e;return n})(),Ee=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=H({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})(),Bi={provide:Rt,useExisting:le(()=>ae),multi:!0},ae=(()=>{let e=class e extends Dn{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Se(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&g("input",function(u){return o.onChange(u.target.value)})("blur",function(){return o.onTouched()})},features:[he([Bi]),Q]});let n=e;return n})();var Hi=new se("");function Gi(n){return typeof n=="number"?n:parseFloat(n)}var Vn=(()=>{let e=class e{constructor(){this._validator=mn}ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):mn,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=H({type:e,features:[Ze]});let n=e;return n})();var Ui={provide:at,useExisting:le(()=>At),multi:!0},At=(()=>{let e=class e extends Vn{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>Gi(t),this.createValidator=t=>pi(t)}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Se(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Fe("min",o._enabled?o.min:null)},inputs:{min:"min"},features:[he([Ui]),Q]});let n=e;return n})(),ji={provide:at,useExisting:le(()=>ve),multi:!0};var ve=(()=>{let e=class e extends Vn{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Et,this.createValidator=t=>fi}enabled(t){return t}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=Se(e)))(o||e)}})(),e.\u0275dir=H({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Fe("required",o._enabled?"":null)},inputs:{required:"required"},features:[he([ji]),Q]});let n=e;return n})();var Bn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e}),e.\u0275inj=Z({});let n=e;return n})();var Hn=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:ct,useValue:t.callSetDisabledState??dt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e}),e.\u0275inj=Z({imports:[Bn]});let n=e;return n})(),Gn=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:Hi,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ct,useValue:t.callSetDisabledState??dt}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e}),e.\u0275inj=Z({imports:[Bn]});let n=e;return n})();var _e={apiUrl:"https://pos-backend-kt9t.vercel.app/"};var Li={url:"",deserializer:n=>JSON.parse(n.data),serializer:n=>JSON.stringify(n)},$i="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",ht=class n extends zt{constructor(e,s){if(super(),this._socket=null,e instanceof Ie)this.destination=s,this.source=e;else{let t=this._config=Object.assign({},Li);if(this._output=new G,typeof e=="string")t.url=e;else for(let i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);if(!t.WebSocketCtor&&WebSocket)t.WebSocketCtor=WebSocket;else if(!t.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new Le}}lift(e){let s=new n(this._config,this.destination);return s.operator=e,s.source=this,s}_resetState(){this._socket=null,this.source||(this.destination=new Le),this._output=new G}multiplex(e,s,t){let i=this;return new Ie(o=>{try{i.next(e())}catch(u){o.error(u)}let c=i.subscribe({next:u=>{try{t(u)&&o.next(u)}catch(v){o.error(v)}},error:u=>o.error(u),complete:()=>o.complete()});return()=>{try{i.next(s())}catch(u){o.error(u)}c.unsubscribe()}})}_connectSocket(){let{WebSocketCtor:e,protocol:s,url:t,binaryType:i}=this._config,o=this._output,c=null;try{c=s?new e(t,s):new e(t),this._socket=c,i&&(this._socket.binaryType=i)}catch(v){o.error(v);return}let u=new Lt(()=>{this._socket=null,c&&c.readyState===1&&c.close()});c.onopen=v=>{let{_socket:x}=this;if(!x){c.close(),this._resetState();return}let{openObserver:L}=this._config;L&&L.next(v);let te=this.destination;this.destination=$t.create(O=>{if(c.readyState===1)try{let{serializer:V}=this._config;c.send(V(O))}catch(V){this.destination.error(V)}},O=>{let{closingObserver:V}=this._config;V&&V.next(void 0),O&&O.code?c.close(O.code,O.reason):o.error(new TypeError($i)),this._resetState()},()=>{let{closingObserver:O}=this._config;O&&O.next(void 0),c.close(),this._resetState()}),te&&te instanceof Le&&u.add(te.subscribe(this.destination))},c.onerror=v=>{this._resetState(),o.error(v)},c.onclose=v=>{c===this._socket&&this._resetState();let{closeObserver:x}=this._config;x&&x.next(v),v.wasClean?o.complete():o.error(v)},c.onmessage=v=>{try{let{deserializer:x}=this._config;o.next(x(v))}catch(x){o.error(x)}}}_subscribe(e){let{source:s}=this;return s?s.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add(()=>{let{_socket:t}=this;this._output.observers.length===0&&(t&&(t.readyState===1||t.readyState===0)&&t.close(),this._resetState())}),e)}unsubscribe(){let{_socket:e}=this;e&&(e.readyState===1||e.readyState===0)&&e.close(),this._resetState(),super.unsubscribe()}};function be(n){return new ht(n)}var Un=(()=>{let e=class e{constructor(){this.socket$=be("wss://pos-backend-kt9t.vercel.app/sales"),this.socket$.subscribe(()=>console.log("WebSocket connection established"),t=>console.error("WebSocket connection error:",t),()=>console.log("WebSocket connection closed"))}send(t){this.socket$.next(t)}receive(){return this.socket$.asObservable()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Te=(()=>{let e=class e{constructor(t,i){this.http=t,this.webSocketService=i,this.API_URL=_e.apiUrl,this.salesSubject=new ne([]),this.sales$=this.salesSubject.asObservable(),this.websocketSubscription=oe(this.webSocketService.receive().pipe(B(o=>o.action==="addSales"?o.transactionSales:o.action==="initialize"?o.sales:null)),this.http.get(this.API_URL+"sales")).subscribe(o=>{console.log("sales",o),Array.isArray(o)?this.updateSales(o):o&&this.addOrUpdateSale(o)})}ngOnDestroy(){this.websocketSubscription&&this.websocketSubscription.unsubscribe()}addSales(t){this.webSocketService.send({action:"addSales",sale:t})}addOrUpdateSale(t){let i=this.salesSubject.value.findIndex(o=>o.id===t.id);if(i===-1)this.salesSubject.next([...this.salesSubject.value,t]);else{let o=[...this.salesSubject.value];o[i]=t,this.salesSubject.next(o)}}updateSales(t){this.salesSubject.next(t)}getSales(){return this.http.get(this.API_URL+"sales")}};e.\u0275fac=function(i){return new(i||e)(I(K),I(Un))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ee=(()=>{let e=class e{constructor(){this.socket$=be("ws://localhost:8080"),this.socket$.subscribe(()=>console.log("WebSocket connection established"),t=>console.error("WebSocket connection error:",t),()=>console.log("WebSocket connection closed"))}send(t){this.socket$.next(t)}receive(){return this.socket$.asObservable()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ft=(()=>{let e=class e{constructor(t,i){this.http=t,this.webSocketService=i,this.API_URL=_e.apiUrl,this.expensesSubject=new ne([]),this.expenses$=this.expensesSubject.asObservable(),this.websocketSubscription=oe(this.webSocketService.receive().pipe(B(o=>o.action==="addExpenses"||o.action==="initialize"?o.expense:null)),this.http.get(this.API_URL+"expenses")).subscribe(o=>{Array.isArray(o)?this.updateExpenses(o):o&&this.addOrUpdateExpenses(o)})}ngOnDestroy(){this.websocketSubscription&&this.websocketSubscription.unsubscribe()}addOrUpdateExpenses(t){let i=this.expensesSubject.value.findIndex(o=>o.id===t.id);if(i===-1)this.expensesSubject.next([...this.expensesSubject.value,t]);else{let o=[...this.expensesSubject.value];o[i]=t,this.expensesSubject.next(o)}}updateExpenses(t){this.expensesSubject.next(t)}addExpenses(t){console.log("service",t),this.webSocketService.send({action:"addExpenses",expense:t})}editExpenses(t,i){console.log("edit drinks",t,i),this.webSocketService.send({action:"editExpenses",expenseId:t,expense:i})}};e.\u0275fac=function(i){return new(i||e)(I(K),I(ee))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Wi=["sales"],Ln=(()=>{let e=class e{constructor(t,i){this.salesService=t,this.expensesService=i,this.products=[],this.expenses=[],this.totalSum=0,this.totalExpenses=0,this.totalCups=0}ngOnInit(){this.salesService.sales$.subscribe(t=>{t&&t.length>0&&(this.totalSum=this.calculateTotalSum(t),this.totalCups=this.calculateTotalCups(t))}),this.expensesService.expenses$.subscribe(t=>{t&&t.length>0&&(this.expenses=t,this.totalExpenses=this.calculateTotalExpenses(t))})}calculateTotalSum(t){return t.reduce((i,o)=>i+parseFloat(o.total),0)}calculateTotalExpenses(t){return t.reduce((i,o)=>i+parseFloat(o.amount),0)}calculateTotalCups(t){return t.reduce((i,o)=>i+parseFloat(o.qty),0)}};e.\u0275fac=function(i){return new(i||e)(m(Te),m(ft))},e.\u0275cmp=S({type:e,selectors:[["app-dashboard"]],viewQuery:function(i,o){if(i&1&&$(Wi,5),i&2){let c;z(c=W())&&(o.sales=c.first)}},decls:26,vars:3,consts:[[1,"dashboard"],[1,"dashboard_cards"],[1,"dashboard_cards_income"],[1,"dashboard_cards_income_header"],[1,"dashboard_cards_income_icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M4.41085 14.5258L7.81249 11.1241L10.6409 13.9526L13.7978 10.7957L12.0049 9.00281H17.0049V14.0028L15.212 12.2099L10.6409 16.781L7.81249 13.9526L5.33834 16.4267C6.77158 18.5822 9.22233 20.0028 12.0049 20.0028C16.4232 20.0028 20.0049 16.4211 20.0049 12.0028C20.0049 7.58453 16.4232 4.00281 12.0049 4.00281C7.5866 4.00281 4.00488 7.58453 4.00488 12.0028C4.00488 12.8844 4.14747 13.7326 4.41085 14.5258ZM2.87288 16.084L2.86275 16.0739L2.86662 16.07C2.31276 14.8274 2.00488 13.4511 2.00488 12.0028C2.00488 6.47996 6.48204 2.00281 12.0049 2.00281C17.5277 2.00281 22.0049 6.47996 22.0049 12.0028C22.0049 17.5257 17.5277 22.0028 12.0049 22.0028C7.93574 22.0028 4.43426 19.5724 2.87288 16.084Z"],[1,"dashboard_cards_expenses"],[1,"dashboard_cards_expenses_header"],[1,"dashboard_cards_expenses_icon"],["d","M22.0049 6.99979H23.0049V16.9998H22.0049V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V6.99979ZM20.0049 16.9998H14.0049C11.2435 16.9998 9.00488 14.7612 9.00488 11.9998C9.00488 9.23836 11.2435 6.99979 14.0049 6.99979H20.0049V4.99979H4.00488V18.9998H20.0049V16.9998ZM21.0049 14.9998V8.99979H14.0049C12.348 8.99979 11.0049 10.3429 11.0049 11.9998C11.0049 13.6566 12.348 14.9998 14.0049 14.9998H21.0049ZM14.0049 10.9998H17.0049V12.9998H14.0049V10.9998Z"],[1,"dashboard_cards_cups"],[1,"dashboard_cards_cups_header"],[1,"dashboard_cards_cups_icon"],["d","M14 2H6.20495C5.6091 2 5.09608 2.42057 4.97923 3.00485L4.1802 7H2V9H4.10875L5.48105 20.8933C5.55383 21.524 6.08789 22 6.72281 22H17.2772C17.9121 22 18.4462 21.524 18.5189 20.8933L19.8912 9H22V7H19.8198L19.0208 3.00485C18.9039 2.42057 18.3909 2 17.795 2H16V0H14V2ZM17.7802 7H6.2198L6.8198 4H17.1802L17.7802 7ZM6.12202 9H17.878L16.6088 20H7.39125L6.12202 9Z"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3),l(5," INCOME "),a(),l(6),a(),r(7,"div",4),E(),r(8,"svg",5),_(9,"path",6),a()()(),A(),r(10,"div",7)(11,"div")(12,"div",8),l(13," EXPENSES "),a(),l(14),a(),r(15,"div",9),E(),r(16,"svg",5),_(17,"path",10),a()()(),A(),r(18,"div",11)(19,"div")(20,"div",12),l(21," CUPS SOLD "),a(),l(22),a(),r(23,"div",13),E(),r(24,"svg",5),_(25,"path",14),a()()()()()),i&2&&(d(6),b(" PHP ",o.totalSum," "),d(8),b(" PHP ",o.totalExpenses," "),d(8),b(" PHP ",o.totalCups," "))},styles:["@media (max-width: 575.98px){.dashboard[_ngcontent-%COMP%]{padding:20px}}.dashboard_cards[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 575.98px){.dashboard_cards[_ngcontent-%COMP%]{display:block}}.dashboard_cards_income[_ngcontent-%COMP%], .dashboard_cards_expenses[_ngcontent-%COMP%], .dashboard_cards_cups[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#fff;height:98px;width:380px;border-radius:6px;display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;-webkit-box-align:center;-ms-flex-align:center;justify-content:space-between;-webkit-justify-content:space-between;-ms-flex-pack:space-between;margin:0 0 25px;padding:20px}@media (max-width: 575.98px){.dashboard_cards_income[_ngcontent-%COMP%], .dashboard_cards_expenses[_ngcontent-%COMP%], .dashboard_cards_cups[_ngcontent-%COMP%]{width:100%}}.dashboard_cards_income_header[_ngcontent-%COMP%], .dashboard_cards_expenses_header[_ngcontent-%COMP%], .dashboard_cards_cups_header[_ngcontent-%COMP%]{font-size:14px;font-weight:400}.dashboard_cards_income_icon[_ngcontent-%COMP%], .dashboard_cards_expenses_icon[_ngcontent-%COMP%], .dashboard_cards_cups_icon[_ngcontent-%COMP%]{background-color:#d2d2d2;width:48px;height:48px;display:-webkit-box;display:-ms-flexbox;display:flex;align-items:center;-webkit-box-align:center;-ms-flex-align:center;justify-content:center;-webkit-justify-content:center;-ms-flex-pack:center;border-radius:50px}.dashboard_cards_income_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dashboard_cards_expenses_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%], .dashboard_cards_cups_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:34px}.dashboard_cards_income[_ngcontent-%COMP%]{background:#1b2850}.dashboard_cards_income_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#1b2850}.dashboard_cards_expenses[_ngcontent-%COMP%]{background-color:#ff4d4d}.dashboard_cards_expenses_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#ff4d4d}.dashboard_cards_cups[_ngcontent-%COMP%]{background-color:#28c76f}.dashboard_cards_cups_icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{fill:#28c76f}"]});let n=e;return n})();var $n=(()=>{let e=class e{constructor(t,i){this.http=t,this.webSocketService=i,this.API_URL=_e.apiUrl,this.inventorySubject=new ne([]),this.inventory$=this.inventorySubject.asObservable(),this.websocketSubscription=oe(this.webSocketService.receive().pipe(B(o=>(console.log("WebSocket message:",o),o.action==="addInventory"||o.action==="initialize"?o.inventory:null))),this.http.get(this.API_URL+"inventory").pipe(ze(o=>console.log("HTTP GET inventory:",o)))).subscribe(o=>{console.log("Merged data:",o),Array.isArray(o)?this.updateInventory(o):o&&this.addOrUpdateInventory(o)})}ngOnDestroy(){this.websocketSubscription&&this.websocketSubscription.unsubscribe()}addInventory(t){this.webSocketService.send({action:"addInventory",inventory:t})}addOrUpdateInventory(t){let i=this.inventorySubject.value.findIndex(o=>o.id===t.id);if(i===-1)this.inventorySubject.next([...this.inventorySubject.value,t]);else{let o=[...this.inventorySubject.value];o[i]=t,this.inventorySubject.next(o)}}updateInventory(t){this.inventorySubject.next(t)}editProduct(t,i){this.webSocketService.send({action:"editProduct",id:t,inventory:i})}getInventory(){return this.http.get(this.API_URL+"inventory")}};e.\u0275fac=function(i){return new(i||e)(I(K),I(ee))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var qi=["*"];var Qi=["dialog"];var zn={animation:!0,transitionTimerDelayMs:5},Ji=(()=>{let e=class e{constructor(){this.animation=zn.animation}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Yi(n){let{transitionDelay:e,transitionDuration:s}=window.getComputedStyle(n),t=parseFloat(e),i=parseFloat(s);return(t+i)*1e3}function Wn(n){return typeof n=="string"}function Bt(n){return n!=null}function Ki(n){return n&&n.then}function Zn(n){return(n||document.body).getBoundingClientRect()}function Xi(n){return e=>new Ie(s=>{let t=c=>n.run(()=>s.next(c)),i=c=>n.run(()=>s.error(c)),o=()=>n.run(()=>s.complete());return e.subscribe({next:t,error:i,complete:o})})}var eo=()=>{},{transitionTimerDelayMs:to}=zn,_t=new Map,ye=(n,e,s,t)=>{let i=t.context||{},o=_t.get(e);if(o)switch(t.runningTransition){case"continue":return Wt;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),_t.delete(e)}let c=s(e,t.animation,i)||eo;if(!t.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>c()),St(void 0).pipe(Xi(n));let u=new G,v=new G,x=u.pipe(Yt(!0));_t.set(e,{transition$:u,complete:()=>{v.next(),v.complete()},context:i});let L=Yi(e);return n.runOutsideAngular(()=>{let te=ie(e,"transitionend").pipe(U(x),ke(({target:V})=>V===e)),O=Qt(L+to).pipe(U(x));Jt(O,te,v).pipe(U(x)).subscribe(()=>{_t.delete(e),n.run(()=>{c(),u.next(),u.complete()})})}),u.asObservable()};var Ut=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Ut||{});var Hr=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var no=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function qn(n){let e=Array.from(n.querySelectorAll(no)).filter(s=>s.tabIndex!==-1);return[e[0],e[e.length-1]]}var io=(n,e,s,t=!1)=>{n.runOutsideAngular(()=>{let i=ie(e,"focusin").pipe(U(s),B(o=>o.target));ie(e,"keydown").pipe(U(s),ke(o=>o.which===Ut.Tab),wt(i)).subscribe(([o,c])=>{let[u,v]=qn(e);(c===u||c===e)&&o.shiftKey&&(v.focus(),o.preventDefault()),c===v&&!o.shiftKey&&(u.focus(),o.preventDefault())}),t&&ie(e,"click").pipe(U(s),wt(i),B(o=>o[1])).subscribe(o=>o.focus())})};var Gr=new Date(1882,10,12),Ur=new Date(2174,10,25);var jr=1e3*60*60*24;var jt=1080,oo=24*jt,so=12*jt+793,Lr=29*oo+so,$r=11*jt+204;var ro=(()=>{let e=class e{constructor(){this._ngbConfig=T(Ji),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Pe=class{constructor(e,s,t){this.nodes=e,this.viewRef=s,this.componentRef=t}};var ao=(()=>{let e=class e{constructor(){this._document=T(Ke)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,o=i.style,{overflow:c,paddingRight:u}=o;if(t>0){let v=parseFloat(window.getComputedStyle(i).paddingRight);o.paddingRight=`${v+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=u),o.overflow=c}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),lo=(()=>{let e=class e{constructor(){this._nativeElement=T(we).nativeElement,this._zone=T(qe)}ngOnInit(){this._zone.onStable.asObservable().pipe(Re(1)).subscribe(()=>{ye(this._zone,this._nativeElement,(t,i)=>{i&&Zn(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ye(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,o){i&2&&(Qe("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),de("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[xt],decls:0,vars:0,template:function(i,o){},encapsulation:2});let n=e;return n})(),mt=class{update(e){}close(e){}dismiss(e){}},co=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],uo=["animation","backdropClass"],Ht=class{_applyWindowOptions(e,s){co.forEach(t=>{Bt(s[t])&&(e[t]=s[t])})}_applyBackdropOptions(e,s){uo.forEach(t=>{Bt(s[t])&&(e[t]=s[t])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(U(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(U(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,s,t,i){this._windowCmptRef=e,this._contentRef=s,this._backdropCmptRef=t,this._beforeDismiss=i,this._closed=new G,this._dismissed=new G,this._hidden=new G,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let s=this._beforeDismiss();Ki(s)?s.then(t=>{t!==!1&&this._dismiss(e)},()=>{}):s!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),s=this._backdropCmptRef?this._backdropCmptRef.instance.hide():St(void 0);e.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),s.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$e(e,s).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Gt=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Gt||{}),ho=(()=>{let e=class e{constructor(){this._document=T(Ke),this._elRef=T(we),this._zone=T(qe),this._closed$=new G,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ce,this.shown=new G,this.hidden=new G}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Wn(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Re(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=ye(this._zone,t,()=>t.classList.remove("show"),i),c=ye(this._zone,this._dialogEl.nativeElement,()=>{},i),u=$e(o,c);return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){let t={animation:this.animation,runningTransition:"continue"},i=ye(this._zone,this._elRef.nativeElement,(c,u)=>{u&&Zn(c),c.classList.add("show")},t),o=ye(this._zone,this._dialogEl.nativeElement,()=>{},t);$e(i,o).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ie(t,"keydown").pipe(U(this._closed$),ke(o=>o.which===Ut.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Gt.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;ie(this._dialogEl.nativeElement,"mousedown").pipe(U(this._closed$),ze(()=>i=!1),Kt(()=>ie(t,"mouseup").pipe(U(this._closed$),Re(1))),ke(({target:o})=>t===o)).subscribe(()=>{i=!0}),ie(t,"click").pipe(U(this._closed$)).subscribe(({target:o})=>{t===o&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Gt.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),o=qn(t)[0];(i||o||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,o;i&&i.focus&&t.contains(i)?o=i:o=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&ye(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(i&1&&$(Qi,7),i&2){let c;z(c=W())&&(o._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){i&2&&(Fe("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),Qe("modal d-block"+(o.windowClass?" "+o.windowClass:"")),de("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[xt],ngContentSelectors:qi,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,o){i&1&&(tn(),r(0,"div",1,0)(2,"div",2),nn(3),a()()),i&2&&Qe("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+o.fullscreenClass+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let n=e;return n})(),po=(()=>{let e=class e{constructor(){this._applicationRef=T(sn),this._injector=T(Ne),this._environmentInjector=T(Mt),this._document=T(Ke),this._scrollBar=T(ao),this._activeWindowCmptHasChanged=new G,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ce;let t=T(qe);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];io(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,o){let c=o.container instanceof HTMLElement?o.container:Bt(o.container)?this._document.querySelector(o.container):this._document.body;if(!c)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let u=new mt;t=o.injector||t;let v=t.get(Mt,null)||this._environmentInjector,x=this._getContentRef(t,v,i,u,o),L=o.backdrop!==!1?this._attachBackdrop(c):void 0,te=this._attachWindowComponent(c,x.nodes),O=new Ht(te,x,L,o.beforeDismiss);return this._registerModalRef(O),this._registerWindowCmpt(te),O.hidden.pipe(Re(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),u.close=V=>{O.close(V)},u.dismiss=V=>{O.dismiss(V)},u.update=V=>{O.update(V)},O.update(o),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),L&&L.instance&&L.changeDetectorRef.detectChanges(),te.changeDetectorRef.detectChanges(),O}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Ye(lo,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let o=Ye(ho,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(o.hostView),t.appendChild(o.location.nativeElement),o}_getContentRef(t,i,o,c,u){return o?o instanceof en?this._createFromTemplateRef(o,c):Wn(o)?this._createFromString(o):this._createFromComponent(t,i,o,c,u):new Pe([])}_createFromTemplateRef(t,i){let o={$implicit:i,close(u){i.close(u)},dismiss(u){i.dismiss(u)}},c=t.createEmbeddedView(o);return this._applicationRef.attachView(c),new Pe([c.rootNodes],c)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Pe([[i]])}_createFromComponent(t,i,o,c,u){let v=Ne.create({providers:[{provide:mt,useValue:c}],parent:t}),x=Ye(o,{environmentInjector:i,elementInjector:v}),L=x.location.nativeElement;return u.scrollable&&L.classList.add("component-host-scrollable"),this._applicationRef.attachView(x.hostView),new Pe([[L]],x.hostView,x)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(o=>{o!==t&&o.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Qn=(()=>{let e=class e{constructor(){this._injector=T(Ne),this._modalStack=T(po),this._config=T(ro)}open(t,i={}){let o=P(J(P({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var zr=new se("live announcer delay",{providedIn:"root",factory:()=>100});var me=(()=>{let e=class e{constructor(t){this.modalService=t}closeModal(){this.modalReference&&this.modalReference.close()}openModal(t){this.modalReference=this.modalService.open(t,{windowClass:"profile-status-modal"})}};e.\u0275fac=function(i){return new(i||e)(I(Qn))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var vt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["app-no-data"]],decls:4,vars:0,consts:[[1,"no-data"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M4.02381 3.78307C4.12549 3.32553 4.5313 3 5 3H19C19.4687 3 19.8745 3.32553 19.9762 3.78307L21.9762 12.7831C21.992 12.8543 22 12.927 22 13V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V13C2 12.927 2.00799 12.8543 2.02381 12.7831L4.02381 3.78307ZM5.80217 5L4.24662 12H9C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12H19.7534L18.1978 5H5.80217ZM16.584 14C15.8124 15.7659 14.0503 17 12 17C9.94968 17 8.1876 15.7659 7.41604 14H4V19H20V14H16.584Z"]],template:function(i,o){i&1&&(r(0,"div",0),E(),r(1,"svg",1),_(2,"path",2),a(),l(3,` No data available
`),a())},styles:[".no-data[_ngcontent-%COMP%]{display:grid;place-items:center;color:#5b6670;padding:50px}.no-data[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:50px;color:#fb0}"]});let n=e;return n})();var _o=["addStockModal"],mo=["addInventoryModal"];function go(n,e){if(n&1){let s=D();r(0,"div")(1,"div",16)(2,"div",9),l(3),a(),r(4,"div",10),l(5),a(),r(6,"div",11),l(7),a(),r(8,"div",12),l(9),a(),r(10,"div",13)(11,"div",17),g("click",function(){let i=p(s).$implicit,o=h(2);return f(o.editProduct(i))}),l(12," Add stock "),a()()()()}if(n&2){let s=e.$implicit;d(3),k(s.product),d(2),k(s.stocks),d(2),k(s.category),d(2),k(s.brand)}}function vo(n,e){if(n&1&&(r(0,"div"),C(1,go,13,4,"div",15),a()),n&2){let s=h();d(),w("ngForOf",s.inventory)}}function bo(n,e){if(n&1){let s=D();r(0,"div",18),l(1," Add stocks to"),r(2,"span"),l(3),a()(),r(4,"div",19)(5,"form",20),g("submit",function(){p(s);let i=h();return f(i.saveEditedProduct())}),r(6,"div",21)(7,"label",22),l(8,"Stock:"),a()(),r(9,"input",23),F("ngModelChange",function(i){p(s);let o=h();return N(o.qty,i)||(o.qty=i),f(i)}),a(),r(10,"div",24)(11,"button",25),g("click",function(){p(s);let i=h();return f(i.cancelForm())}),l(12,"Cancel"),a(),r(13,"button",26),l(14," Add "),a()()()()}if(n&2){let s=h();d(3),k(s.editingProduct==null?null:s.editingProduct.product),d(6),R("ngModel",s.qty)}}function yo(n,e){if(n&1){let s=D();r(0,"div",18),l(1," Add inventory "),a(),r(2,"div",19)(3,"form",20),g("submit",function(){p(s);let i=h();return f(i.addProduct())}),r(4,"label",27),l(5,"Product:"),a(),r(6,"input",28),F("ngModelChange",function(i){p(s);let o=h();return N(o.newInventory.product,i)||(o.newInventory.product=i),f(i)}),a(),r(7,"label",29),l(8,"Category:"),a(),r(9,"input",30),F("ngModelChange",function(i){p(s);let o=h();return N(o.newInventory.category,i)||(o.newInventory.category=i),f(i)}),a(),r(10,"label",31),l(11,"Brand:"),a(),r(12,"input",32),F("ngModelChange",function(i){p(s);let o=h();return N(o.newInventory.brand,i)||(o.newInventory.brand=i),f(i)}),a(),r(13,"label",33),l(14,"Stocks:"),a(),r(15,"input",34),F("ngModelChange",function(i){p(s);let o=h();return N(o.newInventory.stocks,i)||(o.newInventory.stocks=i),f(i)}),a(),r(16,"div",24)(17,"button",25),g("click",function(){p(s);let i=h();return f(i.cancelForm())}),l(18,"Cancel"),a(),r(19,"button",26),l(20," Add "),a()()()()}if(n&2){let s=h();d(6),R("ngModel",s.newInventory.product),d(3),R("ngModel",s.newInventory.category),d(3),R("ngModel",s.newInventory.brand),d(3),R("ngModel",s.newInventory.stocks)}}function Co(n,e){n&1&&_(0,"app-no-data")}var Yn=(()=>{let e=class e{constructor(t,i,o){this.inventoryService=t,this.webSocketService=i,this.modalService=o,this.inventory=[],this.stocks="",this.selectedProduct=null,this.selectedProductId=null,this.product="",this.category="",this.brand="",this.newInventory={product:"",category:"",brand:"",stocks:""},this.editingProduct=null,this.qty=""}ngOnInit(){this.inventoryService.inventory$.subscribe(t=>{t&&t.length>0&&(this.inventory=t)}),this.webSocketService.receive().subscribe(t=>{t.action==="addInventory"&&this.inventory.push(t.product)})}loadInventory(){this.inventoryService.getInventory().subscribe(t=>{this.inventory=t})}openAddInventoryModal(t){this.modalService.openModal(t)}addProduct(){this.inventoryService.addInventory(this.newInventory),this.modalService.closeModal(),this.newInventory={product:"",category:"",brand:"",stocks:""}}editProduct(t){this.editingProduct=null,this.editingProduct=P({},t),this.modalService.openModal(this.addStockModal)}saveEditedProduct(){if(console.log("a",this.editingProduct,this.editingProduct.stocks),this.editingProduct&&this.editingProduct.stocks!==void 0){let t=parseInt(this.qty,10);if(isNaN(t))console.error("Invalid stock quantity");else{let o=parseInt(this.editingProduct.stocks,10)+t;this.editingProduct.stocks=o.toString(),this.inventoryService.editProduct(this.editingProduct.id,this.editingProduct),this.modalService.closeModal(),this.editingProduct=null}}this.clearForm()}cancelForm(){this.clearForm(),this.modalService.closeModal()}clearForm(){this.product="",this.stocks="",this.category="",this.brand="",this.qty=""}updateInventory(){this.loadInventory()}};e.\u0275fac=function(i){return new(i||e)(m($n),m(ee),m(me))},e.\u0275cmp=S({type:e,selectors:[["app-inventory"]],viewQuery:function(i,o){if(i&1&&($(_o,5),$(mo,5)),i&2){let c;z(c=W())&&(o.addStockModal=c.first),z(c=W())&&(o.addInventoryModalmodal=c.first)}},decls:24,vars:2,consts:[["addStockModal",""],["addInventoryModal",""],["noData",""],[1,"inventory"],[1,"inventory_title"],[1,"inventory_title_add",3,"click"],[1,"inventory_table"],[1,"inventory_table_filter"],[1,"inventory_table_header"],[1,"table_one"],[1,"table_two"],[1,"table_three"],[1,"table_four"],[1,"table_five"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"inventory_table_list"],[1,"inventory_table_list_add",3,"click"],[1,"modal-header"],[1,"modal-body"],[3,"submit"],[1,"modal-body-label"],["for","editProductPrice"],["type","number","id","editProductPrice","name","editProductPrice","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-btns"],["type","button",1,"btn","modal-btns-cancel",3,"click"],["type","submit",1,"btn","modal-btns-add"],["for","productName",1,"modal-body-label"],["type","text","id","productName","name","productName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoryName",1,"modal-body-label"],["type","text","id","categoryName","name","categoryName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","brandName",1,"modal-body-label"],["type","text","id","brandName","name","brandName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productStocks",1,"modal-body-label"],["type","number","id","productStocks","name","productStocks","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let c=D();r(0,"div",3)(1,"div",4),l(2," Inventory "),r(3,"div",5),g("click",function(){p(c);let v=ue(21);return f(o.openAddInventoryModal(v))}),l(4," Add inventory "),a()(),r(5,"div",6),_(6,"div",7),r(7,"div",8)(8,"div",9),l(9,"Product"),a(),r(10,"div",10),l(11,"Qty"),a(),r(12,"div",11),l(13,"Category"),a(),r(14,"div",12),l(15,"Brand"),a(),_(16,"div",13),a(),C(17,vo,2,1,"div",14),a()(),C(18,bo,15,2,"ng-template",null,0,j)(20,yo,21,4,"ng-template",null,1,j)(22,Co,1,0,"ng-template",null,2,j)}if(i&2){let c=ue(23);d(17),w("ngIf",o.inventory.length>0)("ngIfElse",c)}},dependencies:[Y,pe,Ee,X,ae,fe,Oe,ve,re,ge,vt],styles:["@media (max-width: 575.98px){.inventory[_ngcontent-%COMP%]{padding:20px}}.inventory_title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700;color:#092c4c;font-size:18px;margin-bottom:24px}.inventory_title_add[_ngcontent-%COMP%]{background:#ff9f43;cursor:pointer;padding:8px 11px;color:#fff;font-size:14px;border-radius:8px}.inventory_title_add[_ngcontent-%COMP%]:hover{background:#fb0}.inventory_table[_ngcontent-%COMP%]{margin-bottom:1.5rem;background-color:#fff;transition:all .5s ease-in-out;position:relative;border-radius:4px;border:1px solid #dbe0e6;box-shadow:none;padding:24px}@media (max-width: 575.98px){.inventory_table[_ngcontent-%COMP%]{padding:15px;display:grid;overflow-x:auto}}.inventory_table_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 24px;padding-bottom:.75rem;border-bottom:1px solid #dbe0e6}@media (max-width: 575.98px){.inventory_table_header[_ngcontent-%COMP%]{padding:10px}}.inventory_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.inventory_table_list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:24px;color:#092c4c;font-size:14px;font-weight:400;line-height:normal;border-bottom:1px solid #dbe0e6}@media (max-width: 575.98px){.inventory_table_list[_ngcontent-%COMP%]{padding:10px}}.inventory_table_list_add[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;text-align:center;padding:.25rem .5rem;font-size:.75rem;background-color:#092c4c!important;border:1px solid #092C4C!important;color:#fff;box-shadow:0 4px 20px #092c4c26}.inventory_table_list_add[_ngcontent-%COMP%]:hover{background-color:#051a2c!important;border:1px solid #051a2c!important;box-shadow:0 3px 10px #092c4c80}.table_one[_ngcontent-%COMP%]{width:200px}.table_two[_ngcontent-%COMP%], .table_three[_ngcontent-%COMP%], .table_four[_ngcontent-%COMP%]{width:100px}.table_five[_ngcontent-%COMP%]{width:80px}.modal-header[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b2850}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff9f43;padding-left:5px}.modal-body-label[_ngcontent-%COMP%]{font-size:14px;color:#5b6670;margin-bottom:8px;text-transform:capitalize}.modal-btns[_ngcontent-%COMP%]{column-gap:10px;display:flex;justify-content:end;padding:20px 0 0}.modal-btns-cancel[_ngcontent-%COMP%]{background:#67748e;color:#fff}.modal-btns-cancel[_ngcontent-%COMP%]:hover{background:#424b52}.modal-btns-add[_ngcontent-%COMP%]{background:#ff9f43;color:#fff}.modal-btns-add[_ngcontent-%COMP%]:hover{background:#fb0}.btn[_ngcontent-%COMP%]{border-radius:3px;padding:.625rem 1.25rem;padding:.5rem .85rem;font-size:.85rem;transition:all .5s}input[_ngcontent-%COMP%]{border-color:#e9edf6;color:#5b6670;font-size:.875rem;line-height:1.6;padding:.5rem .85rem;margin-bottom:1rem}[_ngcontent-%COMP%]::placeholder{color:#8b949b}"]});let n=e;return n})();var bt=(()=>{let e=class e{constructor(){this.socket$=be("wss://pos-backend-kt9t.vercel.app/products"),this.socket$.subscribe(()=>console.log("WebSocket connection established"),t=>console.error("WebSocket connection error:",t),()=>console.log("WebSocket connection closed"))}send(t){this.socket$.next(t)}receive(){return this.socket$.asObservable()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var yt=(()=>{let e=class e{constructor(t,i){this.http=t,this.webSocketService=i,this.API_URL="https://pos-backend-kt9t.vercel.app/",this.productsSubject=new ne([]),this.products$=this.productsSubject.asObservable(),this.websocketSubscription=oe(this.webSocketService.receive().pipe(B(o=>o.action==="addProduct"?{action:"addProduct",product:o.product}:o.action==="initialize"?{action:"initialize",products:o.products}:o.action==="editProduct"?{action:"editProduct",product:o.product}:null)),this.http.get(this.API_URL+"products").pipe(B(o=>({action:"initialize",products:o})))).subscribe(o=>{o&&(o.action==="initialize"?this.updateProducts(o.products):o.action==="addProduct"?this.addOrUpdateProduct(o.product):o.action==="editProduct"&&this.addOrUpdateProduct(o.product))})}ngOnDestroy(){this.websocketSubscription&&this.websocketSubscription.unsubscribe()}addOrUpdateProduct(t){let i=this.productsSubject.value.findIndex(o=>o.id===t.id);if(i===-1)this.productsSubject.next([...this.productsSubject.value,t]);else{let o=[...this.productsSubject.value];o[i]=t,this.productsSubject.next(o)}}updateProducts(t){this.productsSubject.next(t)}addProduct(t){this.webSocketService.send({action:"addProduct",product:t})}editProduct(t,i){console.log("edit product",t,i),this.webSocketService.send({action:"editProduct",productId:t,product:i}),this.http.put(`${this.API_URL}products/${t}`,i).subscribe(o=>{console.log("HTTP PUT response:",o),this.addOrUpdateProduct(i)},o=>{console.error("HTTP PUT error:",o)})}};e.\u0275fac=function(i){return new(i||e)(I(K),I(bt))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var So=["editProductModal"],wo=["addProductModal"];function Mo(n,e){if(n&1){let s=D();r(0,"div",14)(1,"div",9),l(2),a(),r(3,"div",10),l(4),a(),r(5,"div",11)(6,"div",15),g("click",function(){let i=p(s).$implicit,o=h(2);return f(o.editProduct(i))}),l(7," Edit "),a()()()}if(n&2){let s=e.$implicit;d(2),b(" ",s.product," "),d(2),b(" PHP ",s.price," ")}}function Do(n,e){if(n&1&&(r(0,"div"),C(1,Mo,8,2,"div",13),a()),n&2){let s=h();d(),w("ngForOf",s.products)}}function xo(n,e){if(n&1){let s=D();r(0,"div")(1,"div",17),l(2," Edit "),r(3,"span"),l(4),a()(),r(5,"div",18)(6,"form",19),g("submit",function(){p(s);let i=h(2);return f(i.saveEditedProduct())}),r(7,"div",20)(8,"label",21),l(9,"Price:"),a()(),r(10,"input",22),F("ngModelChange",function(i){p(s);let o=h(2);return N(o.editingProduct.price,i)||(o.editingProduct.price=i),f(i)}),a(),r(11,"div",23)(12,"button",24),g("click",function(){p(s);let i=h(2);return f(i.cancelForm())}),l(13,"Cancel"),a(),r(14,"button",25),l(15," Save "),a()()()()()}if(n&2){let s=h(2);d(4),k(s.editingProduct==null?null:s.editingProduct.product),d(6),R("ngModel",s.editingProduct.price)}}function Oo(n,e){if(n&1&&C(0,xo,16,2,"div",16),n&2){let s=h();w("ngIf",s.editingProduct)}}function Eo(n,e){if(n&1){let s=D();r(0,"div",17),l(1," Add drink "),a(),r(2,"div")(3,"div",18)(4,"form",19),g("submit",function(){p(s);let i=h();return f(i.addProduct())}),r(5,"label",26),l(6,"Product:"),a(),r(7,"input",27),F("ngModelChange",function(i){p(s);let o=h();return N(o.newProduct.product,i)||(o.newProduct.product=i),f(i)}),a(),r(8,"label",28),l(9,"Price:"),a(),r(10,"input",29),F("ngModelChange",function(i){p(s);let o=h();return N(o.newProduct.price,i)||(o.newProduct.price=i),f(i)}),a(),r(11,"div",23)(12,"button",24),g("click",function(){p(s);let i=h();return f(i.cancelForm())}),l(13,"Cancel"),a(),r(14,"button",25),l(15," Add "),a()()()()()}if(n&2){let s=h();d(7),R("ngModel",s.newProduct.product),d(3),R("ngModel",s.newProduct.price)}}function To(n,e){n&1&&_(0,"app-no-data")}var ei=(()=>{let e=class e{constructor(t,i,o,c){this.modalService=t,this.productService=i,this.webSocketService=o,this.webSocketProductsService=c,this.product="",this.price="",this.products=[],this.newProduct={product:"",price:""},this.editingProduct=null}ngOnInit(){this.productService.products$.subscribe(t=>{t&&(this.products=t,console.log("products",this.products))}),this.webSocketProductsService.receive().subscribe(t=>{if(console.log("WebSocket message in component:",t),t.action==="addProduct")this.products.push(t.product);else if(t.action==="editProduct"){let i=this.products.findIndex(o=>o.id===t.product.id);i!==-1&&(this.products[i]=t.product,console.log("Updated product:",this.products[i]))}})}addProduct(){this.newProduct.product.trim()!==""&&!isNaN(Number(this.newProduct.price))&&(this.productService.addProduct(this.newProduct),this.modalService.closeModal(),this.newProduct={product:"",price:""})}editProduct(t){this.editingProduct=P({},t),this.modalService.openModal(this.editProductModal)}addModal(){this.modalService.openModal(this.addProductModal)}saveEditedProduct(){this.editingProduct&&(console.log("Saving edited product:",this.editingProduct.id,this.editingProduct),this.productService.editProduct(this.editingProduct.id,this.editingProduct),this.modalService.closeModal(),this.editingProduct=null)}cancelForm(){this.clearForm(),this.modalService.closeModal()}clearForm(){this.newProduct={product:"",price:""}}};e.\u0275fac=function(i){return new(i||e)(m(me),m(yt),m(ee),m(bt))},e.\u0275cmp=S({type:e,selectors:[["app-products"]],viewQuery:function(i,o){if(i&1&&($(So,5),$(wo,5)),i&2){let c;z(c=W())&&(o.editProductModal=c.first),z(c=W())&&(o.addProductModal=c.first)}},decls:20,vars:2,consts:[["editProductModal",""],["addProductModal",""],["noData",""],[1,"products"],[1,"products_title"],[1,"products_title_add",3,"click"],[1,"products_table"],[1,"products_table_filter"],[1,"products_table_header"],[1,"table_one"],[1,"table_two"],[1,"table_five"],[4,"ngIf","ngIfElse"],["class","products_table_list",4,"ngFor","ngForOf"],[1,"products_table_list"],[1,"products_table_list_add",3,"click"],[4,"ngIf"],[1,"modal-header"],[1,"modal-body"],[3,"submit"],[1,"modal-body-label"],["for","editProductPrice"],["type","number","id","editProductPrice","name","editProductPrice","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-btns"],["type","button",1,"btn","modal-btns-cancel",3,"click"],["type","submit",1,"btn","modal-btns-add"],["for","productName",1,"modal-body-label"],["type","text","id","productName","name","productName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productPrice",1,"modal-body-label"],["type","number","id","productPrice","name","productPrice","required","",1,"form-control",3,"ngModelChange","ngModel"]],template:function(i,o){if(i&1){let c=D();r(0,"div",3)(1,"div",4),l(2," Drinks "),r(3,"div",5),g("click",function(){return p(c),f(o.addModal())}),l(4," Add drink "),a()(),r(5,"div",6),_(6,"div",7),r(7,"div",8)(8,"div",9),l(9,"Drink"),a(),r(10,"div",10),l(11,"Price"),a(),_(12,"div",11),a(),C(13,Do,2,1,"div",12),a()(),C(14,Oo,1,1,"ng-template",null,0,j)(16,Eo,16,2,"ng-template",null,1,j)(18,To,1,0,"ng-template",null,2,j)}if(i&2){let c=ue(19);d(13),w("ngIf",o.products.length>0)("ngIfElse",c)}},dependencies:[Y,pe,Ee,X,ae,fe,Oe,ve,re,ge,vt],styles:["@media (max-width: 575.98px){.products[_ngcontent-%COMP%]{padding:20px}}.products_title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700;color:#092c4c;font-size:18px;margin-bottom:24px}.products_title_add[_ngcontent-%COMP%]{background:#ff9f43;cursor:pointer;padding:8px 11px;color:#fff;font-size:14px;border-radius:8px}.products_title_add[_ngcontent-%COMP%]:hover{background:#fb0}.products_table[_ngcontent-%COMP%]{margin-bottom:1.5rem;background-color:#fff;transition:all .5s ease-in-out;position:relative;border-radius:4px;border:1px solid #dbe0e6;box-shadow:none;padding:24px}@media (max-width: 575.98px){.products_table[_ngcontent-%COMP%]{padding:15px;display:grid;overflow-x:auto}}.products_table_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 24px;padding-bottom:.75rem;border-bottom:1px solid #dbe0e6}.products_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.products_table_list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:24px;color:#092c4c;font-size:14px;font-weight:400;line-height:normal;border-bottom:1px solid #dbe0e6}.products_table_list_add[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;text-align:center;padding:.25rem .5rem;font-size:.75rem;background-color:#092c4c!important;border:1px solid #092C4C!important;color:#fff;box-shadow:0 4px 20px #092c4c26}.products_table_list_add[_ngcontent-%COMP%]:hover{background-color:#051a2c!important;border:1px solid #051a2c!important;box-shadow:0 3px 10px #092c4c80}.table_one[_ngcontent-%COMP%]{width:200px}.table_two[_ngcontent-%COMP%], .table_three[_ngcontent-%COMP%], .table_four[_ngcontent-%COMP%]{width:100px}.table_five[_ngcontent-%COMP%]{width:80px}.modal-header[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b2850}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff9f43;padding-left:5px}.modal-body-label[_ngcontent-%COMP%]{font-size:14px;color:#5b6670;margin-bottom:8px;text-transform:capitalize}.modal-btns[_ngcontent-%COMP%]{column-gap:10px;display:flex;justify-content:end;padding:20px 0 0}.modal-btns-cancel[_ngcontent-%COMP%]{background:#67748e;color:#fff}.modal-btns-cancel[_ngcontent-%COMP%]:hover{background:#424b52}.modal-btns-add[_ngcontent-%COMP%]{background:#ff9f43;color:#fff}.modal-btns-add[_ngcontent-%COMP%]:hover{background:#fb0}.btn[_ngcontent-%COMP%]{border-radius:3px;padding:.625rem 1.25rem;padding:.5rem .85rem;font-size:.85rem;transition:all .5s}input[_ngcontent-%COMP%]{border-color:#e9edf6;color:#5b6670;font-size:.875rem;line-height:1.6;padding:.5rem .85rem;margin-bottom:1rem}[_ngcontent-%COMP%]::placeholder{color:#8b949b}"]});let n=e;return n})();var ti=(()=>{let e=class e{constructor(t){this.http=t,this.API_URL=_e.apiUrl}getInventory(){return this.http.get(this.API_URL+"inventory")}putStocks(t,i){return this.http.put(this.API_URL+`inventory/add-stocks/${t}`,i)}postInventory(t){return this.http.post(this.API_URL+"inventory",t)}getProducts(){return this.http.get(this.API_URL+"products")}postProduct(t){return this.http.post(this.API_URL+"products",t)}putProduct(t,i){return this.http.put(this.API_URL+`products/${t}`,i)}getExpenses(){return this.http.get(this.API_URL+"expenses")}postExpense(t){return this.http.post(this.API_URL+"expenses",t)}};e.\u0275fac=function(i){return new(i||e)(I(K))},e.\u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Io(n,e){if(n&1&&(r(0,"div",13)(1,"div",7),l(2),a(),r(3,"div",8),l(4),a(),r(5,"div",9),l(6),Me(7,"date"),a(),r(8,"div",10),l(9),a(),r(10,"div",11),l(11),a()()),n&2){let s=e.$implicit;d(2),b(" ",s.expense," "),d(2),b(" ",s.month," "),d(2),b(" ",Ae(7,5,s.date,"EEEE, MMMM d, y, h:mm:ss a zzzz")," "),d(3),b(" PHP ",s.amount," "),d(2),b(" ",s.channel," ")}}function ko(n,e){if(n&1){let s=D();r(0,"div",14),l(1," Add expense "),a(),r(2,"div",15)(3,"form",16),g("submit",function(){p(s);let i=h();return f(i.addProduct())}),r(4,"label",17),l(5,"expense:"),a(),r(6,"input",18),F("ngModelChange",function(i){p(s);let o=h();return N(o.newExpenses.expense,i)||(o.newExpenses.expense=i),f(i)}),a(),r(7,"label",19),l(8,"amount:"),a(),r(9,"input",20),F("ngModelChange",function(i){p(s);let o=h();return N(o.newExpenses.amount,i)||(o.newExpenses.amount=i),f(i)}),a(),r(10,"label",21),l(11,"channel:"),a(),r(12,"input",22),F("ngModelChange",function(i){p(s);let o=h();return N(o.newExpenses.channel,i)||(o.newExpenses.channel=i),f(i)}),a(),r(13,"label",23),l(14,"Stocks:"),a(),r(15,"div",24)(16,"button",25),g("click",function(){p(s);let i=h();return f(i.cancelForm())}),l(17,"Cancel"),a(),r(18,"button",26),l(19," Add "),a()()()()}if(n&2){let s=h();d(6),R("ngModel",s.newExpenses.expense),d(3),R("ngModel",s.newExpenses.amount),d(3),R("ngModel",s.newExpenses.channel)}}var ni=(()=>{let e=class e{constructor(t,i,o,c){this.appService=t,this.modalService=i,this.expensesService=o,this.webSocketService=c,this.expenses=[],this.expense="",this.channel="",this.totalSum=0,this.newExpenses={expense:"",month:"",date:"",amount:"",channel:""}}ngOnInit(){this.expensesService.expenses$.subscribe(t=>{t&&t.length>0&&(this.expenses=t,console.log("a",t),this.calculateTotalSum(t),console.log("sum",this.calculateTotalSum(t)))}),this.webSocketService.receive().subscribe(t=>{t.action==="addExpenses"&&(console.log("b",t.product),this.expenses.push(t.product))})}addProduct(){let t=new Date,o=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()],c=t.getFullYear();this.newExpenses.month=`${o} ${c}`,this.newExpenses.date=new Date().toISOString(),console.log("expenses",this.newExpenses),this.expensesService.addExpenses(this.newExpenses),this.modalService.closeModal(),this.newExpenses={expense:"",month:"",date:"",amount:"",channel:""}}calculateTotalSum(t){return t.reduce((i,o)=>i+parseFloat(o.amount),0)}loadInventory(){this.appService.getExpenses().subscribe(t=>{this.expenses=t})}openAddInventoryModal(t){this.modalService.openModal(t)}clearForm(){this.expense="",this.amount=null,this.channel=""}cancelForm(){this.clearForm(),this.modalService.closeModal()}updateInventory(){this.loadInventory()}};e.\u0275fac=function(i){return new(i||e)(m(ti),m(me),m(ft),m(ee))},e.\u0275cmp=S({type:e,selectors:[["app-expenses"]],decls:21,vars:1,consts:[["addInventoryModal",""],[1,"inventory"],[1,"inventory_title"],[1,"inventory_title_add",3,"click"],[1,"inventory_table"],[1,"inventory_table_filter"],[1,"inventory_table_header"],[1,"table_one"],[1,"table_two"],[1,"table_three"],[1,"table_four"],[1,"table_five"],["class","inventory_table_list",4,"ngFor","ngForOf"],[1,"inventory_table_list"],[1,"modal-header"],[1,"modal-body"],[3,"submit"],["for","productName",1,"modal-body-label"],["type","text","id","productName","name","productName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","categoryName",1,"modal-body-label"],["type","number","id","categoryName","name","categoryName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","brandName",1,"modal-body-label"],["type","text","id","brandName","name","brandName","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","productStocks",1,"modal-body-label"],[1,"modal-btns"],["type","button",1,"btn","modal-btns-cancel",3,"click"],["type","submit",1,"btn","modal-btns-add"]],template:function(i,o){if(i&1){let c=D();r(0,"div",1)(1,"div",2),l(2," Expenses "),r(3,"div",3),g("click",function(){p(c);let v=ue(20);return f(o.openAddInventoryModal(v))}),l(4," Add expense "),a()(),r(5,"div",4),_(6,"div",5),r(7,"div",6)(8,"div",7),l(9,"Expense"),a(),r(10,"div",8),l(11,"Month"),a(),r(12,"div",9),l(13,"Date"),a(),r(14,"div",10),l(15,"Amount"),a(),r(16,"div",11),l(17,"Channel"),a()(),C(18,Io,12,8,"div",12),a()(),C(19,ko,20,3,"ng-template",null,0,j)}i&2&&(d(18),w("ngForOf",o.expenses))},dependencies:[Y,Ee,X,ae,fe,Oe,ve,re,ge,Xe],styles:["@media (max-width: 575.98px){.inventory[_ngcontent-%COMP%]{padding:20px}}.inventory_title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700;color:#092c4c;font-size:18px;margin-bottom:24px}.inventory_title_add[_ngcontent-%COMP%]{background:#ff9f43;cursor:pointer;padding:8px 11px;color:#fff;font-size:14px;border-radius:8px}.inventory_title_add[_ngcontent-%COMP%]:hover{background:#fb0}.inventory_table[_ngcontent-%COMP%]{margin-bottom:1.5rem;background-color:#fff;transition:all .5s ease-in-out;position:relative;border-radius:4px;border:1px solid #dbe0e6;box-shadow:none;padding:24px}@media (max-width: 575.98px){.inventory_table[_ngcontent-%COMP%]{padding:15px;display:grid;overflow-x:auto}}.inventory_table_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 24px;padding-bottom:.75rem;border-bottom:1px solid #dbe0e6}.inventory_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.inventory_table_list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:24px;color:#092c4c;font-size:14px;font-weight:400;line-height:normal;border-bottom:1px solid #dbe0e6}.inventory_table_list_add[_ngcontent-%COMP%]:hover{background-color:#051a2c!important;border:1px solid #051a2c!important;box-shadow:0 3px 10px #092c4c80}.table_one[_ngcontent-%COMP%]{width:200px}.table_two[_ngcontent-%COMP%], .table_three[_ngcontent-%COMP%], .table_four[_ngcontent-%COMP%]{width:100px}.table_five[_ngcontent-%COMP%]{width:80px}.modal-header[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b2850}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff9f43;padding-left:5px}.modal-body-label[_ngcontent-%COMP%]{font-size:14px;color:#5b6670;margin-bottom:8px;text-transform:capitalize}.modal-btns[_ngcontent-%COMP%]{column-gap:10px;display:flex;justify-content:end;padding:20px 0 0}.modal-btns-cancel[_ngcontent-%COMP%]{background:#67748e;color:#fff}.modal-btns-cancel[_ngcontent-%COMP%]:hover{background:#424b52}.modal-btns-add[_ngcontent-%COMP%]{background:#ff9f43;color:#fff}.modal-btns-add[_ngcontent-%COMP%]:hover{background:#fb0}.btn[_ngcontent-%COMP%]{border-radius:3px;padding:.625rem 1.25rem;padding:.5rem .85rem;font-size:.85rem;transition:all .5s}input[_ngcontent-%COMP%]{border-color:#e9edf6;color:#5b6670;font-size:.875rem;line-height:1.6;padding:.5rem .85rem;margin-bottom:1rem}[_ngcontent-%COMP%]::placeholder{color:#8b949b}"]});let n=e;return n})();function Ro(n,e){if(n&1){let s=D();r(0,"div",16)(1,"div"),l(2),r(3,"div",17),l(4),a()(),r(5,"button",18),g("click",function(){let i=p(s).$implicit,o=h(2);return f(o.addToRightDiv(i))}),l(6,"Add"),a()()}if(n&2){let s=e.$implicit;d(2),b(" ",s.product," "),d(2),b("PHP ",s.price,"")}}function No(n,e){if(n&1&&(r(0,"div",14),C(1,Ro,7,2,"div",15),a()),n&2){let s=h();d(),w("ngForOf",s.products)}}function Fo(n,e){n&1&&(r(0,"div"),l(1," No products available. "),a())}function Ao(n,e){if(n&1){let s=D();r(0,"div",19)(1,"div",20)(2,"span",21),l(3),a(),r(4,"div",22),l(5),a(),r(6,"div",23),E(),r(7,"svg",24),g("click",function(){let i=p(s).$implicit,o=h();return f(o.decrementCounter(i))}),_(8,"path",25),a(),A(),r(9,"input",26),F("ngModelChange",function(i){let o=p(s).$implicit;return N(o.counter,i)||(o.counter=i),f(i)}),g("ngModelChange",function(){p(s);let i=h();return f(i.updateOverallTotal())}),a(),E(),r(10,"svg",24),g("click",function(){let i=p(s).$implicit,o=h();return f(o.incrementCounter(i))}),_(11,"path",27),a()(),A(),r(12,"div",28),l(13),a(),E(),r(14,"svg",29),g("click",function(){let i=p(s).index,o=h();return f(o.deleteProduct(i))}),_(15,"path",30),a()()()}if(n&2){let s=e.$implicit;d(3),k(s.product),d(2),b("PHP ",s.price,""),d(4),R("ngModel",s.counter),d(4),b("PHP ",s.price*s.counter,"")}}var ii=(()=>{let e=class e{constructor(t,i){this.productService=t,this.salesService=i,this.products=[],this.selectedProducts=[],this.overallTotal=0,this.totalQuantity=0}ngOnInit(){this.productService.products$.subscribe(t=>{t&&t.length>0&&(this.products=t.map(i=>J(P({},i),{counter:0})))})}addToRightDiv(t){let i=this.selectedProducts.findIndex(o=>o.product===t.product);i===-1?(t.counter++,this.selectedProducts.push(t)):this.selectedProducts[i].counter++,this.calculateOverallTotal()}calculateOverallTotal(){this.overallTotal=this.selectedProducts.reduce((t,i)=>t+i.price*i.counter,0),this.totalQuantity=this.selectedProducts.reduce((t,i)=>t+i.counter,0)}updateOverallTotal(){this.calculateOverallTotal()}incrementCounter(t){t.counter++,this.calculateOverallTotal()}decrementCounter(t){t.counter>0&&(t.counter--,this.calculateOverallTotal())}deleteProduct(t){this.selectedProducts.splice(t,1),this.calculateOverallTotal()}clearSelectedProducts(){let t=this.generateTransactionId(),i=this.selectedProducts.map(c=>({product:c.product,price:c.price,quantity:c.counter,total:c.price*c.counter}));console.log("data",i,this.totalQuantity,this.overallTotal,t,new Date().toISOString());let o={orders:i,qty:this.totalQuantity,total:this.overallTotal,transactionId:t,dateTime:new Date().toISOString()};console.log("Order Summary:",o),this.addToSales(o),this.selectedProducts=[],this.calculateOverallTotal()}addToSales(t){console.log("sale",t),this.salesService.addSales(t)}generateTransactionId(){let t=Math.floor(Math.random()*9e4)+1e4;return`TRX-${new Date().getTime()}-${t}`}};e.\u0275fac=function(i){return new(i||e)(m(yt),m(Te))},e.\u0275cmp=S({type:e,selectors:[["app-pos"]],decls:21,vars:7,consts:[[1,"pos"],["class","pos_card",4,"ngIf"],[4,"ngIf"],[1,"pos_selected"],[1,"pos_selected_orders"],["class","pos_selected_product",4,"ngFor","ngForOf"],[1,"pos_selected_total"],[1,"pos_selected_total_qty"],[1,"pos_selected_total_qty_text"],[1,"pos_selected_total_qty_qty"],[1,"pos_selected_total_amount"],[1,"pos_selected_total_amount_text"],[1,"pos_selected_total_amount_amount"],[1,"pos_selected_next",3,"click"],[1,"pos_card"],["class","pos_card_drink",4,"ngFor","ngForOf"],[1,"pos_card_drink"],[1,"pos_card_price"],[3,"click"],[1,"pos_selected_product"],[1,"pos_selected_product_info"],[1,"pos_selected_product_info_product"],[1,"pos_selected_product_info_price"],[1,"pos_selected_product_info_qty"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",3,"click"],["d","M19 11H5V13H19V11Z"],["type","number","min","0",1,"form-control",3,"ngModelChange","ngModel"],["d","M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"],[1,"pos_selected_product_info_total"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"pos_selected_product_info_delete",3,"click"],["d","M17 6H22V8H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V8H2V6H7V3C7 2.44772 7.44772 2 8 2H16C16.5523 2 17 2.44772 17 3V6ZM18 8H6V20H18V8ZM9 11H11V17H9V11ZM13 11H15V17H13V11ZM9 4V6H15V4H9Z"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div"),C(2,No,2,1,"div",1)(3,Fo,2,0,"div",2),a(),r(4,"div",3)(5,"div",4),l(6,"Orders"),a(),C(7,Ao,16,4,"div",5),r(8,"div",6)(9,"div",7)(10,"div",8),l(11,"Quantity"),a(),r(12,"div",9),l(13),a()(),r(14,"div",10)(15,"div",11),l(16,"Total"),a(),r(17,"div",12),l(18),a()()(),r(19,"div",13),g("click",function(){return o.clearSelectedProducts()}),l(20,"Next Order"),a()()()),i&2&&(d(2),w("ngIf",o.products&&o.products.length),d(),w("ngIf",!o.products||o.products.length===0),d(4),w("ngForOf",o.selectedProducts),d(6),k(o.totalQuantity),d(5),b("PHP ",o.overallTotal,""),d(),de("disable",o.selectedProducts.length===0))},dependencies:[Y,pe,X,ae,fe,At,re],styles:[".pos[_ngcontent-%COMP%]{height:100vh;padding:24px;display:flex;column-gap:40px;background-color:#f8f9fa}.pos_card[_ngcontent-%COMP%]{display:grid;column-gap:40px;grid-template-columns:repeat(4,1fr)}.pos_card_drink[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:200px;height:200px;font-size:22px;font-weight:700;padding:15px;-webkit-transition:all .5s ease;-ms-transition:all .5s ease;transition:all .5s ease;margin-bottom:1.5rem;background-color:#fff;transition:all .5s ease-in-out;position:relative;border-radius:4px;border:1px solid #dbe0e6;box-shadow:none;text-align:center}.pos_card_price[_ngcontent-%COMP%]{font-size:18px;font-weight:400}.pos_selected[_ngcontent-%COMP%]{width:100%;height:fit-content;padding:24px;background-color:#fff;border-left:1px solid #f3f6f9}.pos_selected_orders[_ngcontent-%COMP%]{font-size:16px;font-weight:600;margin-bottom:20px;color:#1b2850}.pos_selected_product[_ngcontent-%COMP%]{box-shadow:0 4px 60px #e7e7e778;margin:0 0 10px;padding:10px}.pos_selected_product_info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.pos_selected_product_info_product[_ngcontent-%COMP%]{width:115px;color:#092c4c;font-weight:600}.pos_selected_product_info_qty[_ngcontent-%COMP%]{width:110px;display:flex;align-items:center;column-gap:5px}.pos_selected_product_info_qty_price[_ngcontent-%COMP%]{width:60px}.pos_selected_product_info_qty[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:1px 9px;background:#fafbfe;border-radius:8px;height:28px;width:71px;text-align:center;font-size:14px;border:1px solid #e9edf6;color:#5b6670}.pos_selected_product_info_qty[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:14px;height:14px;border-radius:50px;border:1px solid #082c4c;fill:#082c4c;cursor:pointer}.pos_selected_product_info_qty_total[_ngcontent-%COMP%]{width:65}.pos_selected_product_info_delete[_ngcontent-%COMP%]{width:14px;height:14px;fill:red;cursor:pointer}.pos_selected_total[_ngcontent-%COMP%]{color:#5b6670;background-color:#f3f6f9;padding:10px;border-radius:8px}.pos_selected_total_qty[_ngcontent-%COMP%]{display:flex;border-bottom:1px dashed #dbe0e6;padding-bottom:10px}.pos_selected_total_qty_text[_ngcontent-%COMP%]{width:300px}.pos_selected_total_qty_qty[_ngcontent-%COMP%]{width:100px;text-align:right}.pos_selected_total_amount[_ngcontent-%COMP%]{display:flex;padding-top:10px}.pos_selected_total_amount_text[_ngcontent-%COMP%]{width:300px}.pos_selected_total_amount_amount[_ngcontent-%COMP%]{width:100px;font-weight:600;text-align:right}.pos_selected_next[_ngcontent-%COMP%]{background-color:#28c76f;border:1px solid #28C76F;color:#fff;cursor:pointer;text-align:center;border-radius:4px;font-size:14px;padding:10px;margin-top:20px;box-shadow:0 4px 20px #28c76f26}.pos_selected_next[_ngcontent-%COMP%]:hover{background-color:#22a95e;border:1px solid #22a95e;box-shadow:0 3px 10px #28c76f80}.disable[_ngcontent-%COMP%], .disable[_ngcontent-%COMP%]:hover{background-color:#bfeed4;color:#28c76f;cursor:not-allowed;border:none;box-shadow:none}"]});let n=e;return n})();var si=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["app-sidebar"]],decls:31,vars:0,consts:[[1,"sidebar"],[1,"sidebar_header"],["src","assets/img/logo.png"],[1,"sidebar_nav"],["routerLink","/admin/dashboard","routerLinkActive","active","routerDirection","root",1,"sidebar_nav_menu"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor"],["d","M21 20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V9.48907C3 9.18048 3.14247 8.88917 3.38606 8.69972L11.3861 2.47749C11.7472 2.19663 12.2528 2.19663 12.6139 2.47749L20.6139 8.69972C20.8575 8.88917 21 9.18048 21 9.48907V20ZM19 19V9.97815L12 4.53371L5 9.97815V19H19Z"],["routerLink","/admin/inventory","routerLinkActive","active","routerDirection","root",1,"sidebar_nav_menu"],["d","M12 1L21.5 6.5V17.5L12 23L2.5 17.5V6.5L12 1ZM5.49388 7.0777L12.0001 10.8444L18.5062 7.07774L12 3.311L5.49388 7.0777ZM4.5 8.81329V16.3469L11.0001 20.1101V12.5765L4.5 8.81329ZM13.0001 20.11L19.5 16.3469V8.81337L13.0001 12.5765V20.11Z"],["routerLink","/admin/products","routerLinkActive","active","routerDirection","root",1,"sidebar_nav_menu"],["d","M14 2H6.20495C5.6091 2 5.09608 2.42057 4.97923 3.00485L4.1802 7H2V9H4.10875L5.48105 20.8933C5.55383 21.524 6.08789 22 6.72281 22H17.2772C17.9121 22 18.4462 21.524 18.5189 20.8933L19.8912 9H22V7H19.8198L19.0208 3.00485C18.9039 2.42057 18.3909 2 17.795 2H16V0H14V2ZM17.7802 7H6.2198L6.8198 4H17.1802L17.7802 7ZM6.12202 9H17.878L16.6088 20H7.39125L6.12202 9Z"],["routerLink","/admin/sales","routerLinkActive","active","routerDirection","root",1,"sidebar_nav_menu"],["d","M11 7H13V17H11V7ZM15 11H17V17H15V11ZM7 13H9V17H7V13ZM15 4H5V20H19V8H15V4ZM3 2.9918C3 2.44405 3.44749 2 3.9985 2H16L20.9997 7L21 20.9925C21 21.5489 20.5551 22 20.0066 22H3.9934C3.44476 22 3 21.5447 3 21.0082V2.9918Z"],["routerLink","/admin/expenses","routerLinkActive","active","routerDirection","root",1,"sidebar_nav_menu"],["d","M22.0049 6.99979H23.0049V16.9998H22.0049V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V6.99979ZM20.0049 16.9998H14.0049C11.2435 16.9998 9.00488 14.7612 9.00488 11.9998C9.00488 9.23836 11.2435 6.99979 14.0049 6.99979H20.0049V4.99979H4.00488V18.9998H20.0049V16.9998ZM21.0049 14.9998V8.99979H14.0049C12.348 8.99979 11.0049 10.3429 11.0049 11.9998C11.0049 13.6566 12.348 14.9998 14.0049 14.9998H21.0049ZM14.0049 10.9998H17.0049V12.9998H14.0049V10.9998Z"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1),_(2,"img",2),r(3,"div")(4,"div"),l(5,"POS"),a(),r(6,"div"),l(7,"TECH HYBE"),a()()(),r(8,"div",3)(9,"div",4),E(),r(10,"svg",5),_(11,"path",6),a(),l(12," Dashboard "),a(),A(),r(13,"div",7),E(),r(14,"svg",5),_(15,"path",8),a(),l(16," Inventory "),a(),A(),r(17,"div",9),E(),r(18,"svg",5),_(19,"path",10),a(),l(20," Drinks "),a(),A(),r(21,"div",11),E(),r(22,"svg",5),_(23,"path",12),a(),l(24," Sales "),a(),A(),r(25,"div",13),E(),r(26,"svg",5),_(27,"path",14),a(),l(28," Expenses "),a(),A(),r(29,"div"),l(30,"test"),a()()())},dependencies:[pn,fn],styles:['@font-face{font-family:Poppins-Bold;src:url("./media/Poppins-Bold-QAA2AGZS.ttf") format("truetype")}.sidebar[_ngcontent-%COMP%]{width:258px;border-right:1px solid #dbe0e6;height:100%}.sidebar_header[_ngcontent-%COMP%]{font-family:Poppins-Bold,sans-serif;display:flex;align-items:center;column-gap:10px;padding:10px 24px;border-bottom:1px solid #dbe0e6}.sidebar_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.sidebar_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:1;text-align:right}.sidebar_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1){font-size:10px;color:#fb0}.sidebar_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){font-size:20px}.sidebar_nav[_ngcontent-%COMP%]{padding:24px}.sidebar_nav_menu[_ngcontent-%COMP%]{align-items:flex-start;display:flex;cursor:pointer;column-gap:10px;color:#5b6670;padding:10px 10px 10px 18px}.sidebar_nav_menu[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:20px}.sidebar_nav_menu[_ngcontent-%COMP%]:hover{color:#fe9f43}.active[_ngcontent-%COMP%]{color:#fe9f43;border-radius:5px;background:#fe9f4314}']});let n=e;return n})();var Bo=n=>({open:n});function Ho(n,e){n&1&&_(0,"div",13)}function Go(n,e){if(n&1){let s=D();r(0,"div",3)(1,"div",4),E(),r(2,"svg",5),g("click",function(){p(s);let i=h();return f(i.toggleDrawer())}),_(3,"path",6),a(),A(),r(4,"div",7)(5,"div",8),E(),r(6,"svg",5),g("click",function(){p(s);let i=h();return f(i.toggleDrawer())}),_(7,"path",9),a()(),A(),r(8,"div",10)(9,"div")(10,"div",11),_(11,"app-sidebar"),a()()()()(),C(12,Ho,1,0,"div",12),_(13,"router-outlet"),a()}if(n&2){let s=h();d(4),w("ngClass",Ot(2,Bo,s.isOpen)),d(8),w("ngIf",s.isOpen)}}function Uo(n,e){n&1&&(r(0,"div",14),_(1,"app-sidebar"),r(2,"div",15),_(3,"router-outlet"),a()())}var ri=(()=>{let e=class e{constructor(){this.isMobile=!1,this.isOpen=!1}onResize(t){this.isMobile=this.getIsMobile()}ngOnInit(){this.isMobile=this.getIsMobile(),window.onresize=()=>{this.isMobile=this.getIsMobile()}}getIsMobile(){let t=document.documentElement.clientWidth,i=992;return console.log(t),t<i}toggleDrawer(){this.isOpen=!this.isOpen}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["app-admin"]],hostBindings:function(i,o){i&1&&g("resize",function(u){return o.onResize(u)},!1,Xt)},decls:3,vars:2,consts:[[1,"admin"],["style","width: 100%;",4,"ngIf"],["class","admin_content",4,"ngIf"],[2,"width","100%"],[1,"admin_mobile"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",3,"click"],["d","M3 4H21V6H3V4ZM3 11H21V13H3V11ZM3 18H21V20H3V18Z"],[1,"admin_mobile_sidenav",3,"ngClass"],[1,"admin_mobile_sidenav_header"],["d","M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"],[1,"admin_mobile_sidenav_user"],[2,"margin-top","10px"],["class","overlay",4,"ngIf"],[1,"overlay"],[1,"admin_content"],[1,"admin_content_web"]],template:function(i,o){i&1&&(r(0,"div",0),C(1,Go,14,4,"div",1)(2,Uo,4,0,"div",2),a()),i&2&&(d(),w("ngIf",o.isMobile===!0),d(),w("ngIf",!o.isMobile))},dependencies:[rn,pe,et,si],styles:['@font-face{font-family:NunitoSans;src:url("./media/NunitoSans-V2RL5NSQ.ttf") format("truetype")}.admin[_ngcontent-%COMP%]{font-family:NunitoSans;display:flex;min-width:100%;min-height:100vh}.admin_content[_ngcontent-%COMP%]{width:100%;display:flex}.admin_content_web[_ngcontent-%COMP%]{background-color:#fafbfe;width:100%;padding:24px}.admin_mobile[_ngcontent-%COMP%]{padding:15px;justify-content:space-between;box-shadow:0 6px 15px #404f680d;border-bottom:1px solid #E5E5E5}.admin_mobile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60px}.admin_mobile[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px}.admin_mobile_sidenav[_ngcontent-%COMP%]{height:100%;width:0;position:fixed;top:0;left:0;background-color:#fff;overflow-x:hidden;transition:.5s;padding-top:60px}.admin_mobile_sidenav_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-bottom:1px solid #E5E5E5;padding:10px 15px}.admin_mobile_sidenav_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.admin_mobile_sidenav_header[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:25px}.admin_mobile_sidenav_menu[_ngcontent-%COMP%]{padding:15px}.admin_mobile_sidenav_menu_text[_ngcontent-%COMP%]{text-transform:capitalize;cursor:pointer;text-align:center;align-items:end;display:flex}@media (max-width: 575.98px){.admin_mobile_sidenav_menu_text[_ngcontent-%COMP%]{display:block;padding:12px 0}}@media (max-width: 575.98px){.admin_mobile_sidenav_menu_text[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:12px 0}}.admin_mobile_sidenav_menu_text[_ngcontent-%COMP%]:last-of-type{font-weight:700;border:1px solid #14a077;color:#121212;background:#fff;border-radius:4px;text-align:center}.admin_mobile_sidenav_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%}.admin_mobile_sidenav_user[_ngcontent-%COMP%]{display:grid;justify-content:center;text-align:center;text-transform:capitalize}.admin_mobile_sidenav_user_role[_ngcontent-%COMP%]{text-align:center;color:#64666c;font-size:12px;text-transform:lowercase}.admin_menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.admin_menu_nav[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:space-between;align-items:center;text-transform:capitalize}.admin_menu[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;border-radius:50%}.admin_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px 30px;cursor:pointer}.admin_menu[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{background-color:#14a077;color:#fff;border-radius:4px}.admin_menu_login[_ngcontent-%COMP%]{font-weight:700;border:1px solid #14a077;color:#121212;background:#fff;border-radius:4px;text-align:center;padding:10px 30px;cursor:pointer}.admin_menu_login[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0}.admin_menu_login[_ngcontent-%COMP%]:hover{background-color:#14a077;color:#fff}.admin_menu_dropdown[_ngcontent-%COMP%]{border:none;display:flex;align-items:baseline;color:#121212}.admin_menu_dropdown_role[_ngcontent-%COMP%]{text-align:left;color:#64666c;font-size:12px}.admin_menu_dropdown[_ngcontent-%COMP%]:hover{background:transparent;color:#121212}.open[_ngcontent-%COMP%]{width:250px;z-index:2;padding:0}.menu_nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:10px 30px}.overlay[_ngcontent-%COMP%]{background-color:#00000080;width:100%;height:100%;position:absolute;top:0;z-index:1}']});let n=e;return n})();var jo=["sales"];function Lo(n,e){if(n&1){let s=D();r(0,"div",12)(1,"div",6),l(2),a(),r(3,"div",7),l(4),a(),r(5,"div",8),l(6),a(),r(7,"div",9),l(8),Me(9,"date"),a(),r(10,"div",10)(11,"div",13),g("click",function(){let i=p(s).$implicit,o=h();return f(o.openModal(i))}),l(12," view "),a()()()}if(n&2){let s=e.$implicit;d(2),b(" ",s.transactionid," "),d(2),b(" ",s.qty," "),d(2),b(" PHP ",s.total," "),d(2),b(" ",Ae(9,4,s.datetime,"EEEE, MMMM d, y, h:mm:ss")," ")}}function $o(n,e){if(n&1&&(r(0,"div",25)(1,"div",6),l(2),a(),r(3,"div",7),l(4),a(),r(5,"div",8),l(6),a(),r(7,"div",9),l(8),a()()),n&2){let s=e.$implicit;d(2),b(" ",s.product," "),d(2),b(" PHP ",s.price," "),d(2),b(" ",s.quantity," "),d(2),b(" PHP ",s.total," ")}}function zo(n,e){if(n&1&&(r(0,"div",14)(1,"div",15)(2,"div",16),_(3,"img",17),r(4,"div")(5,"div"),l(6,"POS"),a(),r(7,"div"),l(8,"TECH HYBE"),a()()(),r(9,"div",18),l(10," Invoice "),a(),r(11,"div",19)(12,"div",20)(13,"div"),l(14,"Invoice #:"),a(),r(15,"div"),l(16),a()(),r(17,"div",20)(18,"div"),l(19,"Date:"),a(),r(20,"div"),l(21),Me(22,"date"),a()(),r(23,"div",21)(24,"div",22)(25,"div",6),l(26,"Item"),a(),r(27,"div",7),l(28,"Price"),a(),r(29,"div",8),l(30,"Qty"),a(),r(31,"div",9),l(32,"Total"),a()(),C(33,$o,9,4,"div",23),a(),r(34,"div",20)(35,"div"),l(36,"Items:"),a(),r(37,"div"),l(38),a()(),r(39,"div",24)(40,"div"),l(41,"Total Payable:"),a(),r(42,"div"),l(43),a()()()()()),n&2){let s=h();d(16),k(s.details==null?null:s.details.transactionid),d(5),k(Ae(22,5,s.details==null?null:s.details.datetime,"EEEE, MMMM d, y, h:mm:ss")),d(12),w("ngForOf",s.details==null?null:s.details.orders),d(5),k(s.details==null?null:s.details.qty),d(5),b("PHP ",s.details==null?null:s.details.total,"")}}var ai=(()=>{let e=class e{constructor(t,i){this.salesService=t,this.modalService=i,this.products=[],this.details=null,this.totalSum=0,this.totalCups=0}ngOnInit(){this.salesService.sales$.subscribe(t=>{t&&t.length>0&&(this.products=t,this.totalSum=this.calculateTotalSum(t),this.totalCups=this.calculateTotalCups(t),console.log("sum",this.totalSum),console.log("cups",this.totalCups))})}openModal(t){this.details=t,this.modalService.openModal(this.sales)}calculateTotalSum(t){return t.reduce((i,o)=>i+parseFloat(o.total),0)}calculateTotalCups(t){return t.reduce((i,o)=>i+parseFloat(o.qty),0)}};e.\u0275fac=function(i){return new(i||e)(m(Te),m(me))},e.\u0275cmp=S({type:e,selectors:[["app-orders"]],viewQuery:function(i,o){if(i&1&&$(jo,5),i&2){let c;z(c=W())&&(o.sales=c.first)}},decls:18,vars:1,consts:[["sales",""],[1,"inventory"],[1,"inventory_title"],[1,"inventory_table"],[1,"inventory_table_filter"],[1,"inventory_table_header"],[1,"table_one"],[1,"table_two"],[1,"table_three"],[1,"table_four"],[1,"table_five"],["class","inventory_table_list",4,"ngFor","ngForOf"],[1,"inventory_table_list"],[3,"click"],[1,"modal-content",2,"width","424px"],[1,"invoice"],[1,"invoice_header"],["src","assets/img/logo.png"],[1,"invoice_text"],[1,"invoice_body"],[1,"invoice_body_header"],[1,"invoice_body_table"],[1,"invoice_body_table_header"],["class","invoice_body_table_data",4,"ngFor","ngForOf"],[1,"invoice_body_total"],[1,"invoice_body_table_data"]],template:function(i,o){i&1&&(r(0,"div",1)(1,"div",2),l(2," Sales "),a(),r(3,"div",3),_(4,"div",4),r(5,"div",5)(6,"div",6),l(7,"Invoice #"),a(),r(8,"div",7),l(9,"Qty"),a(),r(10,"div",8),l(11,"Total"),a(),r(12,"div",9),l(13,"Date"),a(),_(14,"div",10),a(),C(15,Lo,13,7,"div",11),a()(),C(16,zo,44,8,"ng-template",null,0,j)),i&2&&(d(15),w("ngForOf",o.products))},dependencies:[Y,Xe],styles:['@media (max-width: 575.98px){.inventory[_ngcontent-%COMP%]{padding:20px}}.inventory_title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:700;color:#092c4c;font-size:18px;margin-bottom:24px}.inventory_title_add[_ngcontent-%COMP%]{background:#ff9f43;cursor:pointer;padding:8px 11px;color:#fff;font-size:14px;border-radius:8px}.inventory_title_add[_ngcontent-%COMP%]:hover{background:#fb0}.inventory_table[_ngcontent-%COMP%]{margin-bottom:1.5rem;background-color:#fff;transition:all .5s ease-in-out;position:relative;border-radius:4px;border:1px solid #dbe0e6;box-shadow:none;padding:24px}@media (max-width: 575.98px){.inventory_table[_ngcontent-%COMP%]{padding:15px;display:grid;overflow-x:auto}}.inventory_table_header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:0 24px;padding-bottom:.75rem;border-bottom:1px solid #dbe0e6}.inventory_table_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-weight:600;font-size:15px}.inventory_table_list[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:24px;color:#092c4c;font-size:14px;font-weight:400;line-height:normal;border-bottom:1px solid #dbe0e6}.inventory_table_list_add[_ngcontent-%COMP%]:hover{background-color:#051a2c!important;border:1px solid #051a2c!important;box-shadow:0 3px 10px #092c4c80}.table_two[_ngcontent-%COMP%], .table_three[_ngcontent-%COMP%], .table_four[_ngcontent-%COMP%]{width:100px}.table_five[_ngcontent-%COMP%]{width:80px}.table_five[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{cursor:pointer;border-radius:3px;text-align:center;padding:.25rem .5rem;font-size:.75rem;background-color:#092c4c!important;border:1px solid #092C4C!important;color:#fff;box-shadow:0 4px 20px #092c4c26}.table_five[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#051a2c!important;border:1px solid #051a2c!important;box-shadow:0 3px 10px #092c4c80}.modal-header[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#1b2850}.modal-header[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff9f43;padding-left:5px}.modal-body-label[_ngcontent-%COMP%]{font-size:14px;color:#5b6670;margin-bottom:8px;text-transform:capitalize}.modal-btns[_ngcontent-%COMP%]{column-gap:10px;display:flex;justify-content:end;padding:20px 0 0}.modal-btns-cancel[_ngcontent-%COMP%]{background:#67748e;color:#fff}.modal-btns-cancel[_ngcontent-%COMP%]:hover{background:#424b52}.modal-btns-add[_ngcontent-%COMP%]{background:#ff9f43;color:#fff}.modal-btns-add[_ngcontent-%COMP%]:hover{background:#fb0}.btn[_ngcontent-%COMP%]{border-radius:3px;padding:.625rem 1.25rem;padding:.5rem .85rem;font-size:.85rem;transition:all .5s}input[_ngcontent-%COMP%]{border-color:#e9edf6;color:#5b6670;font-size:.875rem;line-height:1.6;padding:.5rem .85rem;margin-bottom:1rem}[_ngcontent-%COMP%]::placeholder{color:#8b949b}.invoice[_ngcontent-%COMP%]{padding:15px 30px 30px;color:#5b6670}@media (max-width: 575.98px){.invoice[_ngcontent-%COMP%]{padding:10px}}.invoice_header[_ngcontent-%COMP%]{font-family:Poppins-Bold,sans-serif;justify-content:center;display:flex;align-items:center;column-gap:10px}.invoice_header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:80px}.invoice_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{line-height:1;text-align:right}.invoice_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(1){font-size:10px;color:#fb0}.invoice_header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-of-type(2){font-size:20px}.invoice_text[_ngcontent-%COMP%]{margin:10px 0;font-weight:600;position:relative;text-align:center}.invoice_text[_ngcontent-%COMP%]:before{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);content:"";border-top:1px dashed #5B6670;width:35%;position:absolute;top:50%;left:0}.invoice_text[_ngcontent-%COMP%]:after{-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);content:"";border-top:1px dashed #5B6670;width:35%;position:absolute;top:50%;right:0}.invoice_body[_ngcontent-%COMP%]{font-size:14px}.invoice_body_header[_ngcontent-%COMP%], .invoice_body_total[_ngcontent-%COMP%]{justify-content:space-between;display:flex}.invoice_body_table[_ngcontent-%COMP%]{border-top:1px dashed #5B6670;border-bottom:1px dashed #5B6670;padding-bottom:5px;margin:15px 0}.invoice_body_table_header[_ngcontent-%COMP%]{display:flex;padding:5px;color:#092c4c;font-weight:700;margin-bottom:5px;border-bottom:1px dashed #5B6670}.invoice_body_table_data[_ngcontent-%COMP%]{display:flex;padding:5px}.invoice_body_total[_ngcontent-%COMP%]{font-weight:500;font-size:15px;color:#092c4c;margin-top:5px}.modal-content[_ngcontent-%COMP%]{width:424px!important;margin:0 auto}@media (max-width: 575.98px){.modal-content[_ngcontent-%COMP%]{width:250px!important}}.table_one[_ngcontent-%COMP%]{width:200px}.table_two[_ngcontent-%COMP%]{width:90px}.table_three[_ngcontent-%COMP%]{width:100px}.table_four[_ngcontent-%COMP%]{width:190px}']});let n=e;return n})();var Wo=[{path:"",redirectTo:"pos",pathMatch:"full"},{path:"pos",component:ii},{path:"admin",component:ri,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:Ln},{path:"inventory",component:Yn},{path:"products",component:ei},{path:"sales",component:ai},{path:"expenses",component:ni}]}],li=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e}),e.\u0275inj=Z({imports:[Pt.forRoot(Wo,{preloadingStrategy:_n,useHash:!0}),Pt]});let n=e;return n})();var Ct=(()=>{let e=class e{constructor(){this.title="pos-new"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=S({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(i,o){i&1&&_(0,"router-outlet")},dependencies:[et],styles:['@font-face{font-family:NunitoSans;src:url("./media/NunitoSans-V2RL5NSQ.ttf") format("truetype")}.app[_ngcontent-%COMP%]{font-family:NunitoSans;display:flex;height:100vh}.app_content[_ngcontent-%COMP%]{background-color:#fafbfe;width:100%;padding:24px}']});let n=e;return n})();var ci=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e,bootstrap:[Ct]}),e.\u0275inj=Z({providers:[dn()],imports:[cn,un,Gn,Hn,an,ln,li]});let n=e;return n})();var Zo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=q({type:e,bootstrap:[Ct]}),e.\u0275inj=Z({imports:[ci,hn]});let n=e;return n})();export{Zo as a};
